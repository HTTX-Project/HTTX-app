(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/login/register"],{"445c":function(e,t,r){"use strict";var n,a=function(){var e=this,t=e.$createElement;e._self._c},u=[];r.d(t,"b",function(){return a}),r.d(t,"c",function(){return u}),r.d(t,"a",function(){return n})},5352:function(e,t,r){"use strict";var n=r("d0c1"),a=r.n(n);a.a},"843d":function(e,t,r){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=s(r("a34a")),a=(s(r("4ca0")),s(r("2c1c"))),u=s(r("dcec"));function s(e){return e&&e.__esModule?e:{default:e}}function o(e,t,r,n,a,u,s){try{var o=e[u](s),i=o.value}catch(c){return void r(c)}o.done?t(i):Promise.resolve(i).then(n,a)}function i(e){return function(){var t=this,r=arguments;return new Promise(function(n,a){var u=e.apply(t,r);function s(e){o(u,n,a,s,i,"next",e)}function i(e){o(u,n,a,s,i,"throw",e)}s(void 0)})}}var c={data:function(){return{parName:"",phoneNumber:"",code:"",xtCode:"",passwd:"",rePasswd:"",getCodeText:"获取验证码",getCodeBtnColor:"#ffffff",getCodeisWaiting:!1,yqUser:null,parPhoneNum:""}},onLoad:function(){},methods:{Timer:function(){},getCode:function(){var t=i(n.default.mark(function t(){var r,s;return n.default.wrap(function(t){while(1)switch(t.prev=t.next){case 0:if(e.hideKeyboard(),r=this,!r.getCodeisWaiting){t.next=4;break}return t.abrupt("return");case 4:if(r.yqUser&&r.yqUser.USER_ID){t.next=7;break}return r.$api.msg("请填写推荐人"),t.abrupt("return",!1);case 7:if(u.default.regularTools.isPhone(r.phoneNumber)){t.next=10;break}return r.$api.msg("请填写正确手机号码"),t.abrupt("return",!1);case 10:return t.next=12,a.default.get("/userImpl/getCAPTCHA?PHONE=".concat(r.phoneNumber.trim()));case 12:s=t.sent,r.getCodeText="发送中...",r.getCodeisWaiting=!0,r.getCodeBtnColor="rgba(255,255,255,0.5)",r.xtCode=s.data.msg,r.$api.msg("验证码已发送!"),r.setTimer();case 19:case"end":return t.stop()}},t,this)}));function r(){return t.apply(this,arguments)}return r}(),setTimer:function(){var e=this,t=60;this.getCodeText="重新获取(60)",this.Timer=setInterval(function(){if(t<=0)return e.getCodeisWaiting=!1,e.getCodeBtnColor="#ffffff",e.getCodeText="获取验证码",void clearInterval(e.Timer);e.getCodeText="重新获取("+t+")",t--},1e3)},getTJUser:function(){var e=i(n.default.mark(function e(){var t,r;return n.default.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(t=this,u.default.regularTools.isPhone(this.parPhoneNum)){e.next=4;break}return t.$api.msg("请填写正确推荐人手机号码"),e.abrupt("return",!1);case 4:return e.next=6,a.default.get("/userImpl/checkPhone?PHONE=".concat(t.parPhoneNum.trim()));case 6:r=e.sent,"yes"==r.result?(t.yqUser=r.user,t.$api.msg("推荐人查询成功",1500,!0,"success")):(t.yqUser={},t.parPhoneNum="",t.$api.msg("推荐人手机号错误"));case 8:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}(),doReg:function(){var t=i(n.default.mark(function t(){var r,s,o,i;return n.default.wrap(function(t){while(1)switch(t.prev=t.next){case 0:if(e.hideKeyboard(),r=this,r.yqUser&&r.yqUser.USER_ID){t.next=5;break}return r.$api.msg("请填写推荐人"),t.abrupt("return",!1);case 5:if(u.default.regularTools.isPhone(r.phoneNumber)){t.next=8;break}return r.$api.msg("请填写正确手机号码"),t.abrupt("return",!1);case 8:if(""!=r.code){t.next=11;break}return e.showToast({title:"请输入验证码",icon:"none"}),t.abrupt("return",!1);case 11:if(!("9999"!=r.code&r.code!=r.xtCode)){t.next=14;break}return e.showToast({title:"验证码不正确",icon:"none"}),t.abrupt("return",!1);case 14:if(""!=r.passwd){t.next=17;break}return r.$api.msg("请输入密码"),t.abrupt("return",!1);case 17:if(!(r.passwd.length<6)){t.next=20;break}return r.$api.msg("密码必须大于6位"),t.abrupt("return",!1);case 20:if(r.passwd==r.rePasswd){t.next=23;break}return r.$api.msg("密码输入不一致"),t.abrupt("return",!1);case 23:return e.showLoading({title:"提交中...",mask:!0}),t.next=26,a.default.get("/userImpl/checkPhone?PHONE=".concat(r.phoneNumber.trim()));case 26:if(s=t.sent,"yes"!=s.result){t.next=30;break}return r.$api.msg("该手机号已被注册"),t.abrupt("return",!1);case 30:return o={PHONE:r.phoneNumber,PASSWORD:r.passwd,PAR_ID:r.yqUser.USER_ID},t.next=33,a.default.post("/userImpl/registerUser",o);case 33:i=t.sent,i[0],r.$api.msg("注册成功",1500,!0,"success"),setTimeout(function(){r.$mRouter.push({route:r.$mRouterConfig.login,query:{phone:r.phoneNumber}})},500);case 37:case"end":return t.stop()}},t,this)}));function r(){return t.apply(this,arguments)}return r}(),toLogin:function(){e.hideKeyboard(),e.redirectTo({url:"login"}),e.navigateBack()}}};t.default=c}).call(this,r("6e42")["default"])},"9cf0":function(e,t,r){"use strict";(function(e){r("29bd"),r("921b");n(r("66fd"));var t=n(r("df45"));function n(e){return e&&e.__esModule?e:{default:e}}e(t.default)}).call(this,r("6e42")["createPage"])},d0c1:function(e,t,r){},df45:function(e,t,r){"use strict";r.r(t);var n=r("445c"),a=r("faa6");for(var u in a)"default"!==u&&function(e){r.d(t,e,function(){return a[e]})}(u);r("5352");var s,o=r("f0c5"),i=Object(o["a"])(a["default"],n["b"],n["c"],!1,null,null,null,!1,n["a"],s);t["default"]=i.exports},faa6:function(e,t,r){"use strict";r.r(t);var n=r("843d"),a=r.n(n);for(var u in n)"default"!==u&&function(e){r.d(t,e,function(){return n[e]})}(u);t["default"]=a.a}},[["9cf0","common/runtime","common/vendor"]]]);