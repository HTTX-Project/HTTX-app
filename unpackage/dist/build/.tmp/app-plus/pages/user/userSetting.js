(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/user/userSetting"],{"100b":function(t,e,s){"use strict";(function(t){s("29bd"),s("921b");i(s("66fd"));var e=i(s("2b01"));function i(t){return t&&t.__esModule?t:{default:t}}t(e.default)}).call(this,s("6e42")["createPage"])},"1f31":function(t,e,s){"use strict";var i=s("2047"),a=s.n(i);a.a},2047:function(t,e,s){},"2b01":function(t,e,s){"use strict";s.r(e);var i=s("a07e"),a=s("395e");for(var n in a)"default"!==n&&function(t){s.d(e,t,function(){return a[t]})}(n);s("1f31");var r,o=s("f0c5"),u=Object(o["a"])(a["default"],i["b"],i["c"],!1,null,null,null,!1,i["a"],r);e["default"]=u.exports},"395e":function(t,e,s){"use strict";s.r(e);var i=s("583b"),a=s.n(i);for(var n in i)"default"!==n&&function(t){s.d(e,t,function(){return i[t]})}(n);e["default"]=a.a},"583b":function(t,e,s){"use strict";(function(t,i){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var a=o(s("a34a")),n=o(s("2c1c")),r=o(s("dcec"));function o(t){return t&&t.__esModule?t:{default:t}}function u(t,e,s,i,a,n,r){try{var o=t[n](r),u=o.value}catch(c){return void s(c)}o.done?e(u):Promise.resolve(u).then(i,a)}function c(t){return function(){var e=this,s=arguments;return new Promise(function(i,a){var n=t.apply(e,s);function r(t){u(n,i,a,r,o,"next",t)}function o(t){u(n,i,a,r,o,"throw",t)}r(void 0)})}}var l=function(){return s.e("pages/user/modal").then(s.bind(null,"1d41"))},h=function(){return s.e("components/lausir-codedialog/lausir-codedialog").then(s.bind(null,"f179"))},d={components:{unio2oModal:l,lausirCodeDialog:h},data:function(){return{showCodeDialog:!1,code:"",nickAlert:!1,user:{},url:"",userId:"",title:"",val:"",placeholderText:"",status:"",isYzm:!1,yzmVal:"",xtCode:""}},onLoad:function(t){this.user=this.$store.state.userInfo,this.url=this.$store.state.imgUrl,this.userId=t.state,this.getData()},methods:{getData:function(){var e=this;t.showLoading({mask:!0}),n.default.get("/userImpl/userInfo?USER_ID=".concat(e.user.USER_ID),[]).then(function(s){t.setStorage({key:"userInfo",data:s.data.user}),e.user=s.data.user,console.log(i("user",e.user," at pages/user/userSetting.vue:145")),t.hideLoading({})}).catch(function(t){console.log(i("通过查询",t," at pages/user/userSetting.vue:149"))})},showCode:function(){var t=c(a.default.mark(function t(){var e,s;return a.default.wrap(function(t){while(1)switch(t.prev=t.next){case 0:if(e=this,this.user.PHONE!=this.val){t.next=4;break}return this.$api.msg("新手机号与原手机号相同"),t.abrupt("return",!1);case 4:if(r.default.regularTools.isPhone(e.val)){t.next=7;break}return e.$api.msg("请填写正确手机号码"),t.abrupt("return",!1);case 7:return this.yzmVal=this.user.PHONE.substr(0,3)+"****"+this.user.PHONE.substr(7,10),t.next=10,n.default.get("/userImpl/getEMS?PHONE=".concat(e.user.PHONE));case 10:s=t.sent,e.getCodeText="发送中...",e.getCodeisWaiting=!0,e.getCodeBtnColor="rgba(255,255,255,0.5)",e.xtCode=s.data.msg,console.log(i("xtCode",e.xtCode," at pages/user/userSetting.vue:168")),e.$api.msg("验证码已发送!"),e.showCodeDialog=!0;case 18:case"end":return t.stop()}},t,this)}));function e(){return t.apply(this,arguments)}return e}(),change:function(e){var s=this;1==e.type?"9999"!=e.code&e.code!=s.xtCode?(t.showToast({title:"验证码不正确",icon:"none"}),setTimeout(function(){s.$refs.codeDialog.clearCode()},300)):(s.$refs.codeDialog.clearTimer(),s.onSubmit(),s.showCodeDialog=!1):-1==e.type?(this.code="请输入验证码",this.showCodeDialog=!1):(s.showCode(),setTimeout(function(){s.$refs.codeDialog.init()},200))},showType:function(t){this.tabbarIndex=t,this.list=this.orderList[t]},inputVal:function(t){var e="",s="";switch(this.nickAlert=!0,this.isYzm=!1,t){case"0":e="注册姓名",s=this.user.NAME||"";break;case"1":e="银行名称",s=this.user.BANKNAME;break;case"2":e="开户行地址",s=this.user.BANK_ADD;break;case"3":e="开户人姓名",s=this.user.BANK_USERNAME;break;case"4":e="银行卡号",s=this.user.BANKCODE;break;case"5":e="支付宝账号",s=this.user.ZFB_CODE;break;case"6":e="手机号",s=this.user.PHONE,this.isYzm=!0;break}this.status=t,this.title=e,this.val=s,this.placeholderText="请输入".concat(e)},onSubmit:function(){var e=this,s=this;t.showLoading({mask:!0});var a={USER_ID:this.user.USER_ID};if(""==this.val)return this.$api.msg("请输入"+this.title),!1;switch(this.status){case"0":this.user.NAME=this.val,a.NAME=this.val;break;case"1":this.user.BANKNAME=this.val,a.BANKNAME=this.val;break;case"2":this.user.BANK_ADD=this.val,a.BANK_ADD=this.val;break;case"3":this.user.BANK_USERNAME=this.val,a.BANK_USERNAME=this.val;break;case"4":this.user.BANKCODE=this.val,a.BANKCODE=this.val;break;case"5":this.user.ZFB_CODE=this.val,a.ZFB_CODE=this.val;break;case"6":this.user.PHONE=this.val,a.PHONE=this.val;break}n.default.post("/userImpl/editUser",a).then(function(i){e.nickAlert=!1,s.getData(),e.$api.msg("修改成功",1500,!0,"success"),t.hideLoading({})}).catch(function(t){console.log(i("通过查询",t," at pages/user/userSetting.vue:289"))}).finally(function(){e.reData()})},reData:function(){this.status="",this.title="",this.val="",this.placeholderText="",this.yzmVal="",this.xtCode="",this.nickAlert=!1,this.isYzm=!1,this.showCodeDialog=!1,this.code=""}}};e.default=d}).call(this,s("6e42")["default"],s("0de9")["default"])},a07e:function(t,e,s){"use strict";var i,a=function(){var t=this,e=t.$createElement;t._self._c;t._isMounted||(t.e0=function(e){t.nickAlert=!1},t.e1=function(e){t.isYzm?t.showCode():t.onSubmit()})},n=[];s.d(e,"b",function(){return a}),s.d(e,"c",function(){return n}),s.d(e,"a",function(){return i})}},[["100b","common/runtime","common/vendor"]]]);